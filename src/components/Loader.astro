---
---

<div class="loader">
  <span class="loader-text">Loader</span>
</div>
<style lang="scss">
  .loader {
    --diagonal-angle: -3deg;
    --loader-height-offset: -50vw * tan(var(--diagonal-angle));
    background-color: var(--black);
    position: fixed;
    top: calc(-1 * var(--loader-height-offset));
    left: 0;
    height: calc(100vh + 2 * var(--loader-height-offset));
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    transform: skewY(var(--diagonal-angle)) translateY(0);
    transition: transform 0.65s cubic-bezier(0.63, 0.12, 0.87, 0.3);
    z-index: 9999;
    &.hidden {
      transform: skewY(var(--diagonal-angle)) translateY(-100%);
    }
    .loader-text {
      transform: skewY(calc(-1 * var(--diagonal-angle)));
      font-size: 2rem;
      letter-spacing: 1px;
      font-weight: 700;
      color: var(--white);
    }
  }
</style>

<script>
  const loader = document.querySelector<HTMLDivElement>('.loader')
  function animateLoader() {
    loader?.classList.add('hidden')
    setTimeout(() => (loader!.style.display = 'none'), 650)
  }

  const animatedElements = document.querySelectorAll<Element>('.animated')

  function animateElements() {
    animatedElements?.forEach((element) => {
      element.classList.remove('animated')
    })
  }

  window.addEventListener('load', animateLoader)
  window.addEventListener('load', animateElements)
</script>
